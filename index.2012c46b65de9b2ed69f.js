(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(e){var i=function(e,i){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(i)?i:String(i)}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var r=new WeakSet;function a(){this.interval=null,this.isGameOver=!1,this.isPaused=!1,this.canMove=!0}const o=function(){function t(){var e,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,i=r),i.add(e),n(this,r,a).call(this)}var i,o;return i=t,(o=[{key:"start",value:function(){this.isGameOver&&this.clear(),this.isPaused=!1,this.canMove=!0}},{key:"stop",value:function(){this.isPaused=!0,this.canMove=!1,clearTimeout(this.interval)}},{key:"setGameOver",value:function(){this.isGameOver=!0,this.stop()}},{key:"clear",value:function(){this.stop(),n(this,r,a).call(this)}}])&&e(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}function h(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function u(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var m=new WeakSet,f=new WeakSet,p=new WeakSet;function v(){var t=this;this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.$container.innerHTML="",this.$container.appendChild(this.canvas),u(this,f,E).call(this),window.addEventListener("resize",(function(){u(t,f,E).call(t)})),this.media=window.matchMedia("(prefers-color-scheme: dark)"),u(this,p,d).call(this,this.media),this.media.addEventListener("change",(function(){u(t,p,d).call(t,t.media)}))}function E(){this.canvas.width=0,this.canvas.height=0,this.canvas.width=this.$container.offsetWidth,this.canvas.height=this.canvas.width,this.cell_width=this.canvas.width/this.matrix_width,this.cell_height=this.canvas.height/this.matrix_height,this.draw()}function d(t){t.matches?(this.color_canvas="#055159",this.color_cells="#0DC4D9"):(this.color_canvas="#F5F5F5",this.color_cells="#0DC4D9"),this.draw()}const S=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,p),h(this,f),h(this,m),this.$container=e,this.matrix_width=i,this.matrix_height=n,this.matrix=this.generateMatrix(this.matrix_width,this.matrix_height),u(this,m,v).call(this),this.draw()}var e,i;return e=t,(i=[{key:"draw",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=this.color_canvas,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=this.color_cells;for(var t=0;t<this.matrix_width;t++)for(var e=0;e<this.matrix_height;e++)0!==this.matrix[t][e]&&this.context.fillRect(t*this.cell_width,e*this.cell_height,this.cell_width,this.cell_height)}},{key:"generateMatrix",value:function(t,e){for(var i=new Array,n=0;n<t;n++){i[n]=new Array;for(var r=0;r<e;r++)i[n][r]=0}return i}},{key:"copyMatrix",value:function(t,e){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)t[i][n]=e[i][n];return t}},{key:"reflectX",value:function(t){return t.reverse()}},{key:"reflectY",value:function(t){for(var e=this.generateMatrix(t.length,t[0].length),i=0;i<t.length;i++)e[i]=t[i].reverse();return this.copyMatrix(t,e)}},{key:"rotateLeft",value:function(t){for(var e=this.generateMatrix(t[0].length,t.length),i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++){var r=i;e[t[i].length-1-n][r]=t[i][n]}return this.copyMatrix(t,e)}},{key:"rotateRight",value:function(t){for(var e=this.generateMatrix(t[0].length,t.length),i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++){var r=n,a=t.length-1-i;e[r][a]=t[i][n]}return this.copyMatrix(t,e)}}])&&c(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),y=JSON.parse('[{"name":"Block","matrix":[[1,1],[1,1]]},{"name":"Bi-Block","matrix":[[1,1,0,1,1],[1,1,0,1,1]]},{"name":"Bee-Hive","matrix":[[0,1,0],[1,0,1],[1,0,1],[0,1,0]]},{"name":"Honey Farm","matrix":[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]]},{"name":"Loaf","matrix":[[0,0,1,0],[0,1,0,1],[1,0,0,1],[0,1,1,0]]},{"name":"Hamburger","matrix":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,1],[0,1,0,0,1],[0,0,1,1,0]]},{"name":"Bi-Loaf","matrix":[[0,0,0,0,0,1,0],[0,0,0,0,1,0,1],[0,0,0,1,0,0,1],[0,0,1,0,1,1,0],[0,1,0,1,0,0,0],[1,0,0,1,0,0,0],[0,1,1,0,0,0,0]]},{"name":"Bakery","matrix":[[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,1,0,1,0,0,0,0],[0,1,1,0,1,0,0,0,1,0],[1,0,0,1,0,0,0,1,0,1],[1,0,1,0,0,0,1,0,0,1],[0,1,0,0,0,1,0,1,1,0],[0,0,0,0,1,0,1,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,1,0,0,0,0]]},{"name":"Tub","matrix":[[0,1,0],[1,0,1],[0,1,0]]},{"name":"Barge","matrix":[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,0]]},{"name":"Long-Barge","matrix":[[0,1,0,0,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,0,0,1,0]]},{"name":"Boat","matrix":[[0,1,0],[1,0,1],[0,1,1]]},{"name":"Long-Boat","matrix":[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]]},{"name":"Ship","matrix":[[1,1,0],[1,0,1],[0,1,1]]},{"name":"Long-Ship","matrix":[[1,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]]},{"name":"Boat-Tie","matrix":[[0,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,0]]},{"name":"Ship-Tie","matrix":[[1,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,1]]},{"name":"Canoe","matrix":[[1,1,0,0,0],[1,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,1]]},{"name":"Carrier","matrix":[[1,1,0,0],[1,0,0,1],[0,0,1,1]]},{"name":"Integral Sign","matrix":[[0,0,0,1,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,1,0,0,0]]},{"name":"Mango","matrix":[[0,1,1,0,0],[1,0,0,1,0],[0,1,0,0,1],[0,0,1,1,0]]},{"name":"Pond","matrix":[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]]},{"name":"Snake","matrix":[[1,1,0,1],[1,0,1,1]]},{"name":"Bell","matrix":[[0,0,0,1],[0,1,1,1],[1,0,0,0],[0,1,1,1],[0,0,0,1]]},{"name":"Eater","matrix":[[0,0,0,1],[0,1,1,1],[1,0,0,0],[1,1,0,0]]},{"name":"Eater 2","matrix":[[0,0,1,0,0,0,0],[0,1,0,1,0,0,0],[0,1,0,1,0,0,0],[1,1,0,1,1,1,0],[0,0,0,0,0,0,1],[1,1,0,1,1,1,0],[1,1,0,1,0,0,0]]}]'),g=JSON.parse('[{"name":"Glider","matrix":[[0,0,1],[1,0,1],[0,1,1]]},{"name":"Light-weight spaceship – LWSS","matrix":[[1,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]]},{"name":"Middle-weight spaceship – MWSS","matrix":[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]]},{"name":"Heavy-weight spaceship – HWSS","matrix":[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]]}]'),T=JSON.parse('[{"name":"Blinker – period 2","matrix":[[1],[1],[1]]},{"name":"Toad – period 2","matrix":[[1,0],[1,1],[1,1],[0,1]]},{"name":"Beacon – period 2","matrix":[[0,0,1,1],[0,0,1,1],[1,1,0,0],[1,1,0,0]]},{"name":"Clock – period 2","matrix":[[0,1,0,0],[0,1,0,1],[1,0,1,0],[0,0,1,0]]},{"name":"Pulsar – period 3","matrix":[[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]]},{"name":"Penta decanthlon – period 15","matrix":[[1,0,0,1,0,1,1,0,1,0,0,1],[1,1,1,1,0,1,1,0,1,1,1,1],[1,0,0,1,0,1,1,0,1,0,0,1]]},{"name":"Star – period 3","matrix":[[0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,1,0,0,0,0,0,1,0,0],[0,1,1,0,0,0,0,0,1,1,0],[1,1,0,0,0,0,0,0,0,1,1],[0,1,1,0,0,0,0,0,1,1,0],[0,0,1,0,0,0,0,0,1,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0]]},{"name":"Cross – period 3","matrix":[[0,0,1,1,1,1,0,0],[0,0,1,0,0,1,0,0],[1,1,1,0,0,1,1,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,1,1,0,0,1,1,1],[0,0,1,0,0,1,0,0],[0,0,1,1,1,1,0,0]]},{"name":"French Kiss – period 3","matrix":[[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,1,0,0,0],[0,0,0,1,1,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,1,1,0,0,0],[0,0,0,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0]]},{"name":"Clock 2 – period 4","matrix":[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,1,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]]},{"name":"Pinwheel – period 4","matrix":[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,0,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,1,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]]},{"name":"Octagon – period 5","matrix":[[0,0,0,1,1,0,0,0],[0,0,1,0,0,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,0,0,1,0,0],[0,0,0,1,1,0,0,0]]},{"name":"Fumarole – period 5","matrix":[[0,0,0,0,0,1,1],[0,1,1,1,0,0,1],[0,0,0,0,1,1,0],[1,0,0,0,0,0,0],[1,0,0,0,0,0,0],[0,0,0,0,1,1,0],[0,1,1,1,0,0,1],[0,0,0,0,0,1,1]]}]'),_=JSON.parse('[{"name":"Gosper\'s glider gun","matrix":[[0,0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0],[0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,0,0,1],[0,0,1,0,0,0,0,0,1],[0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,1,0],[0,0,0,0,1,1,1,0,0],[0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[1,1,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]]}]'),x=JSON.parse('[{"name":"Pentomino O","matrix":[[1,1,1,1,1]]},{"name":"Pentomino P","matrix":[[1,1,0],[1,1,1]]},{"name":"Pentomino Q","matrix":[[1,1,1,1],[0,0,0,1]]},{"name":"Pentomino R – 1103","matrix":[[1,0,0],[1,1,1],[0,1,0]]},{"name":"Pentomino S","matrix":[[0,0,1,1],[1,1,1,0]]},{"name":"Pentomino T","matrix":[[1,0,0],[1,1,1],[1,0,0]]},{"name":"Pentomino U","matrix":[[1,1],[0,1],[1,1]]},{"name":"Pentomino V","matrix":[[1,1,1],[0,0,1],[0,0,1]]},{"name":"Pentomino W","matrix":[[1,1,0],[0,1,1],[0,0,1]]},{"name":"Pentomino X","matrix":[[0,1,0],[1,1,1],[0,1,0]]},{"name":"Pentomino Y","matrix":[[0,1],[1,1],[0,1],[0,1]]},{"name":"Pentomino X","matrix":[[1,1,0],[0,1,0],[0,1,1]]}]'),O=JSON.parse('[{"name":"Acorn – 5206","matrix":[[0,0,1],[0,0,1],[0,0,1],[0,1,0],[0,0,0],[1,0,1],[0,0,1]]},{"name":"Rabbits – 17332","matrix":[[0,1,0,0],[0,0,1,1],[0,1,0,0],[0,0,0,0],[1,0,0,0],[0,1,1,0],[1,0,0,0],[0,0,0,1]]},{"name":"Toughie – 130","matrix":[[0,0,1],[1,0,1],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,1,1],[0,1,0]]},{"name":"Rocket – 194","matrix":[[0,0,0,0,1],[0,1,1,1,1],[1,1,1,1,0],[1,0,0,1,0],[1,1,1,1,0],[0,1,1,1,1],[0,0,0,0,1]]}]'),L=JSON.parse('[{"name":"Cheshire Cat","matrix":[[0,0,1,1,1,0],[1,1,0,0,0,1],[0,1,0,1,0,1],[0,1,0,1,0,1],[1,1,0,0,0,1],[0,0,1,1,1,0]]},{"name":"Bell shaped","matrix":[[0,0,0,1],[0,1,1,1],[1,0,0,1],[0,1,1,1],[0,0,0,1]]},{"name":"Boat explosion","matrix":[[0,0,0,1,1],[0,1,1,0,1],[0,1,0,1,0],[1,0,1,1,0],[1,1,0,0,0]]}]'),w=JSON.parse('[{"name":"Bee defense","matrix":[[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0]]},{"name":"Bee war","matrix":[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]]},{"name":"Bee explosion","matrix":[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,1,0],[1,1,0,0,1,0,0,0,0,0,1,0,0,1,1],[0,1,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]]}]');function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C(n.key),n)}}function P(t,e,i){return e&&R(t.prototype,e),i&&R(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}const $=P((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stable=y,this.spaceships=g,this.oscillators=T,this.guns=_,this.pentominoes=x,this.mathusalem=O,this.interesting=L,this.beelike=w}));function I(t,e){var i=t&&"number"==typeof t?t:0,n=e&&"number"==typeof e?e:0;return Math.floor(Math.random()*(n-i)+i)}function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:String(e)}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},N.apply(this,arguments)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function B(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function q(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var H=new WeakSet,D=new WeakSet,U=new WeakSet,W=new WeakSet,X=new WeakSet,J=new WeakSet,Y=new WeakSet,z=new WeakSet,K=new WeakSet,Z=new WeakSet;function Q(){this.resetForms(),this.figures=new $,this.map=new S(this.$MAP,this.MATRIX_WIDTH,this.MATRIX_HEIGHT),this.interval=0,this.generation=0,this.population=0,this.cells=this.map.matrix,this.allocate=!1,this.allocateCoordinates=[],q(this,W,et).call(this)}function V(){q(this,U,tt).call(this),q(this,W,et).call(this)}function tt(){var t=this;this.generation++;for(var e=this.map.generateMatrix(this.map.matrix_width,this.map.matrix_height),i=0,n=function(t,e){return t<0?e-1:t>e-1?0:t},r=function(e,i){var r=0;return r+=1===t.cells[n(e-1,t.map.matrix_width)][n(i-1,t.map.matrix_height)]?1:0,r+=1===t.cells[n(e-1,t.map.matrix_width)][n(i,t.map.matrix_height)]?1:0,r+=1===t.cells[n(e-1,t.map.matrix_width)][n(i+1,t.map.matrix_height)]?1:0,r+=1===t.cells[n(e,t.map.matrix_width)][n(i-1,t.map.matrix_height)]?1:0,r+=1===t.cells[n(e,t.map.matrix_width)][n(i+1,t.map.matrix_height)]?1:0,r+=1===t.cells[n(e+1,t.map.matrix_width)][n(i-1,t.map.matrix_height)]?1:0,(r+=1===t.cells[n(e+1,t.map.matrix_width)][n(i,t.map.matrix_height)]?1:0)+(1===t.cells[n(e+1,t.map.matrix_width)][n(i+1,t.map.matrix_height)]?1:0)},a=0;a<this.map.matrix_width;a++)for(var o=0;o<this.map.matrix_height;o++){var l=r(a,o);l<2||l>3?e[a][o]=0:0!==this.cells[a][o]||3!==l?e[a][o]=this.cells[a][o]:e[a][o]=1}for(var c=0;c<this.map.matrix_width;c++)for(var s=0;s<this.map.matrix_height;s++)this.cells[c][s]=e[c][s],1===e[c][s]&&i++;this.population=i}function et(){this.map.draw(),this.$GENERATION.innerText="Generation: ".concat(this.generation),this.$POPULATION.innerText="Population: ".concat(this.population)}function it(t,e,i){for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)t[n][r]=I(e,i);return t}function nt(){for(var t=Math.abs(this.allocateCoordinates[1][0]-this.allocateCoordinates[0][0])+1,e=Math.abs(this.allocateCoordinates[1][1]-this.allocateCoordinates[0][1])+1,i=this.map.generateMatrix(t,e),n=0;n<t;n++)for(var r=0;r<e;r++){var a=this.allocateCoordinates[0][0]+n,o=this.allocateCoordinates[0][1]+r;i[n][r]=this.cells[a][o]}console.log("width = ".concat(t,", height = ").concat(e)),console.log(i)}function rt(t,e){if(!(t.length<e.length||t[0].length<e[0].length))for(var i=Math.floor(t.length/2)-Math.floor(e.length/2),n=Math.floor(t[0].length/2)-Math.floor(e[0].length/2),r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++)this.cells[i+r][n+a]=e[r][a]}function at(){this.MATRIX_WIDTH=50,this.MATRIX_HEIGHT=50,this.SPEED_RATE=100}function ot(){this.$MAP=document.querySelector("#map"),this.$GENERATION=document.querySelector("#generation"),this.$POPULATION=document.querySelector("#population"),this.$START=document.querySelector("#start"),this.$STOP=document.querySelector("#stop"),this.$STEP=document.querySelector("#step"),this.$CLEAN=document.querySelector("#clean"),this.$RANDOMIZE=document.querySelector("#randomize"),this.$SPEED=document.querySelector("#speed-menu"),this.$REFLECT_X=document.querySelector("#reflect-x"),this.$REFLECT_Y=document.querySelector("#reflect-y"),this.$ROTATE_LEFT=document.querySelector("#rotate-left"),this.$ROTATE_RIGHT=document.querySelector("#rotate-right"),this.$EXPORT=document.querySelector("#export"),this.$IMPORT=document.querySelector("#import"),this.$IMPORT_INPUT=document.querySelector("#import-input"),this.$SELECTOR_STILL_LIFE=document.querySelector(".game-of-life__still-life-menu"),this.$SELECTOR_SPACESHIPS=document.querySelector(".game-of-life__spaceships-menu"),this.$SELECTOR_OSCILLATORS=document.querySelector(".game-of-life__oscillators-menu"),this.$SELECTOR_GUNS=document.querySelector(".game-of-life__guns-menu"),this.$SELECTOR_PENTOMINO=document.querySelector(".game-of-life__pentominoes-menu"),this.$SELECTOR_MATHUSALEM=document.querySelector(".game-of-life__mathusalem-menu"),this.$SELECTOR_INTERESTING=document.querySelector(".game-of-life__interesting-menu"),this.$SELECTOR_BEE_GARDEN=document.querySelector(".game-of-life__bee-garden-menu")}function lt(){var t=this;this.$MAP.addEventListener("click",(function(e){var i=Math.floor(e.offsetX/t.map.cell_width),n=Math.floor(e.offsetY/t.map.cell_height);if(!0===e.ctrlKey&&0===t.interval)return!1===t.allocate&&(t.allocate=!0),t.allocateCoordinates.push(new Array(i,n)),void(t.allocateCoordinates.length>=2&&(q(t,J,nt).call(t),t.allocateCoordinates=[]));0===t.cells[i][n]?t.cells[i][n]=1:t.cells[i][n]=0,q(t,W,et).call(t)})),this.$MAP.addEventListener("contextmenu",(function(e){e.preventDefault(),!0===t.allocate&&(t.allocate=!1,t.allocateCoordinates=[]),q(t,W,et).call(t)})),this.$START.addEventListener("click",(function(){return t.start()})),this.$STOP.addEventListener("click",(function(){return t.stop()})),this.$CLEAN.addEventListener("click",(function(){return t.clear()})),this.$STEP.addEventListener("click",(function(){clearInterval(t.interval),q(t,D,V).call(t)})),this.$RANDOMIZE.addEventListener("click",(function(){t.clear(),t.cells=q(t,X,it).call(t,t.cells,0,2),q(t,W,et).call(t)})),this.$SPEED.addEventListener("input",(function(){t.stop(),t.SPEED_RATE=t.$SPEED.value,t.start()})),this.$REFLECT_X.addEventListener("click",(function(){t.cells=t.map.reflectX(t.cells),q(t,W,et).call(t)})),this.$REFLECT_Y.addEventListener("click",(function(){t.cells=t.map.reflectY(t.cells),q(t,W,et).call(t)})),this.$ROTATE_LEFT.addEventListener("click",(function(){t.cells=t.map.rotateRight(t.cells),q(t,W,et).call(t)})),this.$ROTATE_RIGHT.addEventListener("click",(function(){t.cells=t.map.rotateLeft(t.cells),q(t,W,et).call(t)})),this.$EXPORT.addEventListener("click",(function(){var e=new Blob([JSON.stringify(t.map.matrix)],{type:"application/json"}),i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(e)),i.setAttribute("download","save-".concat(Date.now(),".json")),i.click()})),this.$IMPORT.addEventListener("click",(function(){t.$IMPORT_INPUT.click()})),this.$IMPORT_INPUT.addEventListener("input",(function(){if("application/json"===t.$IMPORT_INPUT.files[0].type){var e=t.$IMPORT_INPUT.files[0],i=new FileReader;i.readAsText(e),i.onload=function(){for(var e=JSON.parse(i.result),n=0;n<t.map.matrix_width;n++)for(var r=0;r<t.map.matrix_height;r++)t.cells[n][r]=e[n][r];q(t,W,et).call(t)},i.onerror=function(){console.log(i.error)},t.$IMPORT_INPUT.value=""}})),this.$SELECTOR_STILL_LIFE.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_STILL_LIFE.value){var e=t.$SELECTOR_STILL_LIFE.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.stable[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_SPACESHIPS.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_SPACESHIPS.value){var e=t.$SELECTOR_SPACESHIPS.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.spaceships[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_OSCILLATORS.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_OSCILLATORS.value){var e=t.$SELECTOR_OSCILLATORS.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.oscillators[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_GUNS.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_GUNS.value){var e=t.$SELECTOR_GUNS.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.guns[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_PENTOMINO.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_PENTOMINO.value){var e=t.$SELECTOR_PENTOMINO.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.pentominoes[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_MATHUSALEM.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_MATHUSALEM.value){var e=t.$SELECTOR_MATHUSALEM.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.mathusalem[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_INTERESTING.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_INTERESTING.value){var e=t.$SELECTOR_INTERESTING.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.interesting[e].matrix),q(t,W,et).call(t),t.resetForms()}})),this.$SELECTOR_BEE_GARDEN.addEventListener("change",(function(){if("-1"!==t.$SELECTOR_BEE_GARDEN.value){var e=t.$SELECTOR_BEE_GARDEN.value;t.clear(),q(t,Y,rt).call(t,t.cells,t.figures.beelike[e].matrix),q(t,W,et).call(t),t.resetForms()}}))}new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(o,t);var e,i,n,r,a=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G(n);if(r){var i=G(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),B(F(t=a.call(this)),Z),B(F(t),K),B(F(t),z),B(F(t),Y),B(F(t),J),B(F(t),X),B(F(t),W),B(F(t),U),B(F(t),D),B(F(t),H),q(F(t),K,ot).call(F(t)),q(F(t),z,at).call(F(t)),q(F(t),Z,lt).call(F(t)),q(F(t),H,Q).call(F(t)),t}return e=o,(i=[{key:"resetForms",value:function(){this.$SELECTOR_STILL_LIFE.value="-1",this.$SELECTOR_OSCILLATORS.value="-1",this.$SELECTOR_SPACESHIPS.value="-1",this.$SELECTOR_GUNS.value="-1",this.$SELECTOR_PENTOMINO.value="-1",this.$SELECTOR_MATHUSALEM.value="-1",this.$SELECTOR_INTERESTING.value="-1",this.$SELECTOR_BEE_GARDEN.value="-1"}},{key:"start",value:function(){N(G(o.prototype),"start",this).call(this),this.stop(),this.interval=setInterval(q(this,D,V).bind(this),this.SPEED_RATE)}},{key:"clear",value:function(){N(G(o.prototype),"clear",this).call(this),q(this,H,Q).call(this)}}])&&k(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(o))})();