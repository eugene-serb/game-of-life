(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,a){for(var n=0;n<a.length;n++){var l=a[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(void 0,r=function(t,a){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var l=n.call(t,"string");if("object"!==e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(l.key),"symbol"===e(r)?r:String(r)),l)}var r}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}const n=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stable=[[[1,1],[1,1]],[[1,1,0,1,1],[1,1,0,1,1]],[[0,1,0],[1,0,1],[1,0,1],[0,1,0]],[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]],[[0,0,1,0],[0,1,0,1],[1,0,0,1],[0,1,1,0]],[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,1],[0,1,0,0,1],[0,0,1,1,0]],[[0,0,0,0,0,1,0],[0,0,0,0,1,0,1],[0,0,0,1,0,0,1],[0,0,1,0,1,1,0],[0,1,0,1,0,0,0],[1,0,0,1,0,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,1,0,1,0,0,0,0],[0,1,1,0,1,0,0,0,1,0],[1,0,0,1,0,0,0,1,0,1],[1,0,1,0,0,0,1,0,0,1],[0,1,0,0,0,1,0,1,1,0],[0,0,0,0,1,0,1,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,1,0,0,0,0]],[[0,1,0],[1,0,1],[0,1,0]],[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,0]],[[0,1,0,0,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,0,0,1,0]],[[0,1,0],[1,0,1],[0,1,1]],[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]],[[1,1,0],[1,0,1],[0,1,1]],[[1,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]],[[0,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,0]],[[1,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,1]],[[1,1,0,0,0],[1,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,1]],[[1,1,0,0],[1,0,0,1],[0,0,1,1]],[[0,0,0,1,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,1,0,0,0]],[[0,1,1,0,0],[1,0,0,1,0],[0,1,0,0,1],[0,0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],[[1,1,0,1],[1,0,1,1]],[[0,0,0,1],[0,1,1,1],[1,0,0,0],[0,1,1,1],[0,0,0,1]],[[0,0,0,1],[0,1,1,1],[1,0,0,0],[1,1,0,0]],[[0,0,1,0,0,0,0],[0,1,0,1,0,0,0],[0,1,0,1,0,0,0],[1,1,0,1,1,1,0],[0,0,0,0,0,0,1],[1,1,0,1,1,1,0],[1,1,0,1,0,0,0]]],this.spaceships=[[[0,0,1],[1,0,1],[0,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]]],this.oscillators=[[[1],[1],[1]],[[1,0],[1,1],[1,1],[0,1]],[[0,0,1,1],[0,0,1,1],[1,1,0,0],[1,1,0,0]],[[0,1,0,0],[0,1,0,1],[1,0,1,0],[0,0,1,0]],[[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]],[[1,0,0,1,0,1,1,0,1,0,0,1],[1,1,1,1,0,1,1,0,1,1,1,1],[1,0,0,1,0,1,1,0,1,0,0,1]],[[0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,1,0,0,0,0,0,1,0,0],[0,1,1,0,0,0,0,0,1,1,0],[1,1,0,0,0,0,0,0,0,1,1],[0,1,1,0,0,0,0,0,1,1,0],[0,0,1,0,0,0,0,0,1,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0]],[[0,0,1,1,1,1,0,0],[0,0,1,0,0,1,0,0],[1,1,1,0,0,1,1,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,1,1,0,0,1,1,1],[0,0,1,0,0,1,0,0],[0,0,1,1,1,1,0,0]],[[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,1,0,0,0],[0,0,0,1,1,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,1,1,0,0,0],[0,0,0,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,1,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,0,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,1,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]],[[0,0,0,1,1,0,0,0],[0,0,1,0,0,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,0,0,1,0,0],[0,0,0,1,1,0,0,0]],[[0,0,0,0,0,1,1],[0,1,1,1,0,0,1],[0,0,0,0,1,1,0],[1,0,0,0,0,0,0],[1,0,0,0,0,0,0],[0,0,0,0,1,1,0],[0,1,1,1,0,0,1],[0,0,0,0,0,1,1]]],this.guns=[[[0,0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0],[0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,0,0,1],[0,0,1,0,0,0,0,0,1],[0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,1,0],[0,0,0,0,1,1,1,0,0],[0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[1,1,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]]],this.pentominoes=[[[1,1,1,1,1]],[[1,1,0],[1,1,1]],[[1,1,1,1],[0,0,0,1]],[[1,0,0],[1,1,1],[0,1,0]],[[0,0,1,1],[1,1,1,0]],[[1,0,0],[1,1,1],[1,0,0]],[[1,1],[0,1],[1,1]],[[1,1,1],[0,0,1],[0,0,1]],[[1,1,0],[0,1,1],[0,0,1]],[[0,1,0],[1,1,1],[0,1,0]],[[0,1],[1,1],[0,1],[0,1]],[[1,1,0],[0,1,0],[0,1,1]]],this.mathusalem=[[[0,0,1],[0,0,1],[0,0,1],[0,1,0],[0,0,0],[1,0,1],[0,0,1]],[[0,1,0,0],[0,0,1,1],[0,1,0,0],[0,0,0,0],[1,0,0,0],[0,1,1,0],[1,0,0,0],[0,0,0,1]],[[0,0,1],[1,0,1],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,1,1],[0,1,0]],[[0,0,0,0,1],[0,1,1,1,1],[1,1,1,1,0],[1,0,0,1,0],[1,1,1,1,0],[0,1,1,1,1],[0,0,0,0,1]]],this.interesting=[[[0,0,1,1,1,0],[1,1,0,0,0,1],[0,1,0,1,0,1],[0,1,0,1,0,1],[1,1,0,0,0,1],[0,0,1,1,1,0]],[[0,0,0,1],[0,1,1,1],[1,0,0,1],[0,1,1,1],[0,0,0,1]],[[0,0,0,1,1],[0,1,1,0,1],[0,1,0,1,0],[1,0,1,1,0],[1,1,0,0,0]]],this.beelike=[[[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,1,0],[1,1,0,0,1,0,0,0,0,0,1,0,0,1,1],[0,1,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]]]}));function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==l(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(r)?r:String(r)),n)}var r}function i(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}const o=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)}}));function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function E(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function u(e,t,a){return t&&E(e.prototype,t),a&&E(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}function S(e,t,a){return(t=s(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}function f(e,t){var a=function(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,a)}var v=new WeakMap,_=new WeakMap,h=new WeakMap;const m=u((function e(t,a,n){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"draw",(function(){l.context.clearRect(0,0,l.canvas.width,l.canvas.height),l.context.fillStyle=l.color_canvas,l.context.fillRect(0,0,l.canvas.width,l.canvas.height),l.context.fillStyle=l.color_cells;for(var e=0;e<l.matrix_width;e++)for(var t=0;t<l.matrix_height;t++)0!==l.matrix[e][t]&&l.context.fillRect(e*l.cell_width,t*l.cell_height,l.cell_width,l.cell_height)})),T(this,v,{writable:!0,value:function(){l.canvas=document.createElement("canvas"),l.context=l.canvas.getContext("2d"),l.$container.appendChild(l.canvas),f(l,_).call(l),window.addEventListener("resize",(function(){f(l,_).call(l)})),l.media=window.matchMedia("(prefers-color-scheme: dark)"),f(l,h).call(l,l.media),l.media.addEventListener("change",(function(){f(l,h).call(l,l.media)}))}}),T(this,_,{writable:!0,value:function(){l.canvas.width=0,l.canvas.height=0,l.canvas.width=l.$container.offsetWidth,l.canvas.height=l.canvas.width,l.cell_width=l.canvas.width/l.matrix_width,l.cell_height=l.canvas.height/l.matrix_height,l.draw()}}),T(this,h,{writable:!0,value:function(e){e.matches?(l.color_canvas="#055159",l.color_cells="#0DC4D9"):(l.color_canvas="#F5F5F5",l.color_cells="#0DC4D9"),l.draw()}}),S(this,"generateMatrix",(function(e,t){for(var a=new Array,n=0;n<e;n++){a[n]=new Array;for(var l=0;l<t;l++)a[n][l]=0}return a})),S(this,"copyMatrix",(function(e,t){for(var a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)e[a][n]=t[a][n];return e})),S(this,"reflectX",(function(e){return e.reverse()})),S(this,"reflectY",(function(e){for(var t=l.generateMatrix(e.length,e[0].length),a=0;a<e.length;a++)t[a]=e[a].reverse();return l.copyMatrix(e,t)})),S(this,"rotateLeft",(function(e){for(var t=l.generateMatrix(e[0].length,e.length),a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++){var r=a;t[e[a].length-1-n][r]=e[a][n]}return l.copyMatrix(e,t)})),S(this,"rotateRight",(function(e){for(var t=l.generateMatrix(e[0].length,e.length),a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++){var r=n,i=e.length-1-a;t[r][i]=e[a][n]}return l.copyMatrix(e,t)})),this.$container=t,this.matrix_width=a,this.matrix_height=n,this.matrix=this.generateMatrix(this.matrix_width,this.matrix_height),f(this,v).call(this),this.draw()}));function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,l=function(e,t){if("object"!==O(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===O(l)?l:String(l)),n)}var l}function L(e,t,a){return t&&R(e.prototype,t),a&&R(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}function d(e,t){var a=function(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,a)}var C=new WeakMap,g=new WeakMap,$=new WeakMap,y=new WeakMap,N=new WeakMap,A=new WeakMap,I=new WeakMap,w=new WeakMap,P=new WeakMap,b=new WeakMap;new(L((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,C,{writable:!0,value:function(){t.generation++,d(t,g).call(t),d(t,$).call(t)}}),p(this,g,{writable:!0,value:function(){for(var e=t.map.generateMatrix(t.map.matrix_width,t.map.matrix_height),a=0,n=function(e,t){return e<0?t-1:e>t-1?0:e},l=function(e,a){var l=0;return l+=1===t.cells[n(e-1,t.map.matrix_width)][n(a-1,t.map.matrix_height)]?1:0,l+=1===t.cells[n(e-1,t.map.matrix_width)][n(a,t.map.matrix_height)]?1:0,l+=1===t.cells[n(e-1,t.map.matrix_width)][n(a+1,t.map.matrix_height)]?1:0,l+=1===t.cells[n(e,t.map.matrix_width)][n(a-1,t.map.matrix_height)]?1:0,l+=1===t.cells[n(e,t.map.matrix_width)][n(a+1,t.map.matrix_height)]?1:0,l+=1===t.cells[n(e+1,t.map.matrix_width)][n(a-1,t.map.matrix_height)]?1:0,(l+=1===t.cells[n(e+1,t.map.matrix_width)][n(a,t.map.matrix_height)]?1:0)+(1===t.cells[n(e+1,t.map.matrix_width)][n(a+1,t.map.matrix_height)]?1:0)},r=0;r<t.map.matrix_width;r++)for(var i=0;i<t.map.matrix_height;i++){var o=l(r,i);o<2||o>3?e[r][i]=0:0!==t.cells[r][i]||3!==o?e[r][i]=t.cells[r][i]:e[r][i]=1}for(var c=0;c<t.map.matrix_width;c++)for(var E=0;E<t.map.matrix_height;E++)t.cells[c][E]=e[c][E],1===e[c][E]&&a++;t.population=a}}),p(this,$,{writable:!0,value:function(){t.map.draw(),t.$GENERATION_WRAPPER.innerText="Generation: ".concat(t.generation),t.$POPULATION_WRAPPER.innerText="Population: ".concat(t.population)}}),p(this,y,{writable:!0,value:function(e,a,n){for(var l=0;l<e.length;l++)for(var r=0;r<e[l].length;r++)e[l][r]=t.support.getRandomInteger(a,n);return e}}),p(this,N,{writable:!0,value:function(){t.interval=0,t.generation=0,t.population=0,t.map.matrix=t.map.generateMatrix(t.map.matrix_width,t.map.matrix_height),t.cells=t.map.matrix}}),p(this,A,{writable:!0,value:function(){for(var e=Math.abs(t.allocateCoordinates[1][0]-t.allocateCoordinates[0][0])+1,a=Math.abs(t.allocateCoordinates[1][1]-t.allocateCoordinates[0][1])+1,n=t.map.generateMatrix(e,a),l=0;l<e;l++)for(var r=0;r<a;r++){var i=t.allocateCoordinates[0][0]+l,o=t.allocateCoordinates[0][1]+r;n[l][r]=t.cells[i][o]}console.log("width = ".concat(e,", height = ").concat(a)),console.log(n)}}),p(this,I,{writable:!0,value:function(e,a){if(!(e.length<a.length||e[0].length<a[0].length))for(var n=Math.floor(e.length/2)-Math.floor(a.length/2),l=Math.floor(e[0].length/2)-Math.floor(a[0].length/2),r=0;r<a.length;r++)for(var i=0;i<a[r].length;i++)t.cells[n+r][l+i]=a[r][i]}}),p(this,w,{writable:!0,value:function(){t.MATRIX_WIDTH=50,t.MATRIX_HEIGHT=50,t.SPEED_RATE=100}}),p(this,P,{writable:!0,value:function(){t.$MAP_WRAPPER=document.querySelector(".game-of-life__map-wrapper"),t.$GENERATION_WRAPPER=document.querySelector(".game-of-life__generation"),t.$POPULATION_WRAPPER=document.querySelector(".game-of-life__population"),t.$START_BUTTON=document.querySelector(".game-of-life__start"),t.$STOP_BUTTON=document.querySelector(".game-of-life__stop"),t.$NEXT_BUTTON=document.querySelector(".game-of-life__next"),t.$CLEAN_BUTTON=document.querySelector(".game-of-life__clean"),t.$RANDOMIZE_BUTTON=document.querySelector(".game-of-life__randomize"),t.$SPEED_SELECTOR=document.querySelector(".game-of-life__speed-menu"),t.$REFLECT_X_BUTTON=document.querySelector(".game-of-life__reflect-x"),t.$REFLECT_Y_BUTTON=document.querySelector(".game-of-life__reflect-y"),t.$ROTATE_LEFT_BUTTON=document.querySelector(".game-of-life__rotate-left"),t.$ROTATE_RIGHT_BUTTON=document.querySelector(".game-of-life__rotate-right"),t.$EXPORT_BUTTON=document.querySelector(".game-of-life__export"),t.$IMPORT_INPUT=document.querySelector(".game-of-life__import-input"),t.$IMPORT_BUTTON=document.querySelector(".game-of-life__import"),t.$STABLE_SELECTOR=document.querySelector(".game-of-life__stables-menu"),t.$SPACESHIPS_SELECTOR=document.querySelector(".game-of-life__spaceships-menu"),t.$OSCILLATORS_SELECTOR=document.querySelector(".game-of-life__oscillators-menu"),t.$GUNS_SELECTOR=document.querySelector(".game-of-life__guns-menu"),t.$PENTOMINO_SELECTOR=document.querySelector(".game-of-life__pentominoes-menu"),t.$MATHUSALEM_SELECTOR=document.querySelector(".game-of-life__mathusalem-menu"),t.$INTERESTING_SELECTOR=document.querySelector(".game-of-life__interesting-menu"),t.$BEE_GARDEN_SELECTOR=document.querySelector(".game-of-life__bee-garden-menu")}}),p(this,b,{writable:!0,value:function(){t.$MAP_WRAPPER.addEventListener("click",(function(e){var a=Math.floor(e.offsetX/t.map.cell_width),n=Math.floor(e.offsetY/t.map.cell_height);if(!0===e.ctrlKey&&0===t.interval)return!1===t.allocate&&(t.allocate=!0),t.allocateCoordinates.push(new Array(a,n)),void(t.allocateCoordinates.length>=2&&(d(t,A).call(t),t.allocateCoordinates=[]));0===t.cells[a][n]?t.cells[a][n]=1:t.cells[a][n]=0,d(t,$).call(t)})),t.$MAP_WRAPPER.addEventListener("contextmenu",(function(e){e.preventDefault(),!0===t.allocate&&(t.allocate=!1,t.allocateCoordinates=[]),d(t,$).call(t)})),t.$START_BUTTON.addEventListener("click",(function(){clearInterval(t.interval),t.interval=0,t.interval=setInterval(d(t,C),t.SPEED_RATE)})),t.$STOP_BUTTON.addEventListener("click",(function(){clearInterval(t.interval),t.interval=0})),t.$NEXT_BUTTON.addEventListener("click",(function(){clearInterval(t.interval),t.interval=0,d(t,C).call(t)})),t.$CLEAN_BUTTON.addEventListener("click",(function(){clearInterval(t.interval),d(t,N).call(t),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1"})),t.$RANDOMIZE_BUTTON.addEventListener("click",(function(){clearInterval(t.interval),d(t,N).call(t),t.cells=d(t,y).call(t,t.cells,0,2),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1"})),t.$SPEED_SELECTOR.addEventListener("input",(function(){var e=0!==t.interval?1:0;1===e&&(clearInterval(t.interval),t.interval=0),t.SPEED_RATE=t.$SPEED_SELECTOR.value,1===e&&(t.interval=setInterval(d(t,C),t.SPEED_RATE))})),t.$REFLECT_X_BUTTON.addEventListener("click",(function(){t.cells=t.map.reflectX(t.cells),d(t,$).call(t)})),t.$REFLECT_Y_BUTTON.addEventListener("click",(function(){t.cells=t.map.reflectY(t.cells),d(t,$).call(t)})),t.$ROTATE_LEFT_BUTTON.addEventListener("click",(function(){t.cells=t.map.rotateRight(t.cells),d(t,$).call(t)})),t.$ROTATE_RIGHT_BUTTON.addEventListener("click",(function(){t.cells=t.map.rotateLeft(t.cells),d(t,$).call(t)})),t.$EXPORT_BUTTON.addEventListener("click",(function(){var e=new Blob([JSON.stringify(t.map.matrix)],{type:"application/json"}),a=document.createElement("a");a.setAttribute("href",URL.createObjectURL(e)),a.setAttribute("download","save-".concat(Date.now(),".json")),a.click()})),t.$IMPORT_BUTTON.addEventListener("click",(function(){t.$IMPORT_INPUT.click()})),t.$IMPORT_INPUT.addEventListener("input",(function(){if("application/json"===t.$IMPORT_INPUT.files[0].type){var e=t.$IMPORT_INPUT.files[0],a=new FileReader;a.readAsText(e),a.onload=function(){for(var e=JSON.parse(a.result),n=0;n<t.map.matrix_width;n++)for(var l=0;l<t.map.matrix_height;l++)t.cells[n][l]=e[n][l];d(t,$).call(t)},a.onerror=function(){console.log(a.error)},t.$IMPORT_INPUT.value=""}})),t.$STABLE_SELECTOR.addEventListener("change",(function(){"-1"!==t.$STABLE_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.stable[t.$STABLE_SELECTOR.value]),d(t,$).call(t),t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$SPACESHIPS_SELECTOR.addEventListener("change",(function(){"-1"!==t.$SPACESHIPS_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.spaceships[t.$SPACESHIPS_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$OSCILLATORS_SELECTOR.addEventListener("change",(function(){"-1"!==t.$OSCILLATORS_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.oscillators[t.$OSCILLATORS_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$GUNS_SELECTOR.addEventListener("change",(function(){"-1"!==t.$GUNS_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.guns[t.$GUNS_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$PENTOMINO_SELECTOR.addEventListener("change",(function(){"-1"!==t.$PENTOMINO_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.pentominoes[t.$PENTOMINO_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$.MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$MATHUSALEM_SELECTOR.addEventListener("change",(function(){"-1"!==t.$MATHUSALEM_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.mathusalem[t.$MATHUSALEM_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$INTERESTING_SELECTOR.addEventListener("change",(function(){"-1"!==t.$INTERESTING_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.interesting[t.$INTERESTING_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$BEE_GARDEN_SELECTOR.value="-1")})),t.$BEE_GARDEN_SELECTOR.addEventListener("change",(function(){"-1"!==t.$BEE_GARDEN_SELECTOR.value&&(clearInterval(t.interval),d(t,N).call(t),d(t,I).call(t,t.cells,t.figures.beelike[t.$BEE_GARDEN_SELECTOR.value]),d(t,$).call(t),t.$STABLE_SELECTOR.value="-1",t.$OSCILLATORS_SELECTOR.value="-1",t.$SPACESHIPS_SELECTOR.value="-1",t.$GUNS_SELECTOR.value="-1",t.$PENTOMINO_SELECTOR.value="-1",t.$MATHUSALEM_SELECTOR.value="-1",t.$INTERESTING_SELECTOR.value="-1")}))}}),d(this,w).call(this),d(this,P).call(this),d(this,b).call(this),this.support=new o,this.figures=new n,this.map=new m(this.$MAP_WRAPPER,this.MATRIX_WIDTH,this.MATRIX_HEIGHT),this.interval=0,this.generation=0,this.population=0,this.cells=this.map.matrix,this.allocate=!1,this.allocateCoordinates=[],d(this,$).call(this)})))})();