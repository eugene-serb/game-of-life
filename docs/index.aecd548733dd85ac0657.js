(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,i){for(var a=0;a<i.length;a++){var n=i[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,l=function(t,i){if("object"!==e(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===e(l)?l:String(l)),n)}var l}function i(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}const a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stable=[[[1,1],[1,1]],[[1,1,0,1,1],[1,1,0,1,1]],[[0,1,0],[1,0,1],[1,0,1],[0,1,0]],[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]],[[0,0,1,0],[0,1,0,1],[1,0,0,1],[0,1,1,0]],[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,1],[0,1,0,0,1],[0,0,1,1,0]],[[0,0,0,0,0,1,0],[0,0,0,0,1,0,1],[0,0,0,1,0,0,1],[0,0,1,0,1,1,0],[0,1,0,1,0,0,0],[1,0,0,1,0,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,1,0,1,0,0,0,0],[0,1,1,0,1,0,0,0,1,0],[1,0,0,1,0,0,0,1,0,1],[1,0,1,0,0,0,1,0,0,1],[0,1,0,0,0,1,0,1,1,0],[0,0,0,0,1,0,1,0,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,1,0,0,0,0]],[[0,1,0],[1,0,1],[0,1,0]],[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,0]],[[0,1,0,0,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,0,0,1,0]],[[0,1,0],[1,0,1],[0,1,1]],[[0,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]],[[1,1,0],[1,0,1],[0,1,1]],[[1,1,0,0],[1,0,1,0],[0,1,0,1],[0,0,1,1]],[[0,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,0]],[[1,1,0,0,0,0],[1,0,1,0,0,0],[0,1,1,0,0,0],[0,0,0,1,1,0],[0,0,0,1,0,1],[0,0,0,0,1,1]],[[1,1,0,0,0],[1,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,1]],[[1,1,0,0],[1,0,0,1],[0,0,1,1]],[[0,0,0,1,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,1,0,0,0]],[[0,1,1,0,0],[1,0,0,1,0],[0,1,0,0,1],[0,0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],[[1,1,0,1],[1,0,1,1]],[[0,0,0,1],[0,1,1,1],[1,0,0,0],[0,1,1,1],[0,0,0,1]],[[0,0,0,1],[0,1,1,1],[1,0,0,0],[1,1,0,0]],[[0,0,1,0,0,0,0],[0,1,0,1,0,0,0],[0,1,0,1,0,0,0],[1,1,0,1,1,1,0],[0,0,0,0,0,0,1],[1,1,0,1,1,1,0],[1,1,0,1,0,0,0]]],this.spaceships=[[[0,0,1],[1,0,1],[0,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]],[[1,0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,1]]],this.oscillators=[[[1],[1],[1]],[[1,0],[1,1],[1,1],[0,1]],[[0,0,1,1],[0,0,1,1],[1,1,0,0],[1,1,0,0]],[[0,1,0,0],[0,1,0,1],[1,0,1,0],[0,0,1,0]],[[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]],[[1,0,0,1,0,1,1,0,1,0,0,1],[1,1,1,1,0,1,1,0,1,1,1,1],[1,0,0,1,0,1,1,0,1,0,0,1]],[[0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,1,0,0,0,0,0,1,0,0],[0,1,1,0,0,0,0,0,1,1,0],[1,1,0,0,0,0,0,0,0,1,1],[0,1,1,0,0,0,0,0,1,1,0],[0,0,1,0,0,0,0,0,1,0,0],[0,0,1,1,1,0,1,1,1,0,0],[0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0]],[[0,0,1,1,1,1,0,0],[0,0,1,0,0,1,0,0],[1,1,1,0,0,1,1,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,1,1,0,0,1,1,1],[0,0,1,0,0,1,0,0],[0,0,1,1,1,1,0,0]],[[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,1,0,0,0],[0,0,0,1,1,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,1,1,0,0,0],[0,0,0,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,1,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]],[[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,1,1],[0,0,0,1,0,1,0,0,1,0,1,1],[1,1,0,1,1,0,0,0,1,0,0,0],[1,1,0,1,0,0,1,0,1,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0]],[[0,0,0,1,1,0,0,0],[0,0,1,0,0,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,0,0,1,0,0],[0,0,0,1,1,0,0,0]],[[0,0,0,0,0,1,1],[0,1,1,1,0,0,1],[0,0,0,0,1,1,0],[1,0,0,0,0,0,0],[1,0,0,0,0,0,0],[0,0,0,0,1,1,0],[0,1,1,1,0,0,1],[0,0,0,0,0,1,1]]],this.guns=[[[0,0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0],[0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,0,0,1],[0,0,1,0,0,0,0,0,1],[0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,1,0],[0,0,0,0,1,1,1,0,0],[0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0],[0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0],[1,1,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]]],this.pentominoes=[[[1,1,1,1,1]],[[1,1,0],[1,1,1]],[[1,1,1,1],[0,0,0,1]],[[1,0,0],[1,1,1],[0,1,0]],[[0,0,1,1],[1,1,1,0]],[[1,0,0],[1,1,1],[1,0,0]],[[1,1],[0,1],[1,1]],[[1,1,1],[0,0,1],[0,0,1]],[[1,1,0],[0,1,1],[0,0,1]],[[0,1,0],[1,1,1],[0,1,0]],[[0,1],[1,1],[0,1],[0,1]],[[1,1,0],[0,1,0],[0,1,1]]],this.mathusalem=[[[0,0,1],[0,0,1],[0,0,1],[0,1,0],[0,0,0],[1,0,1],[0,0,1]],[[0,1,0,0],[0,0,1,1],[0,1,0,0],[0,0,0,0],[1,0,0,0],[0,1,1,0],[1,0,0,0],[0,0,0,1]],[[0,0,1],[1,0,1],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,1,1],[0,1,0]],[[0,0,0,0,1],[0,1,1,1,1],[1,1,1,1,0],[1,0,0,1,0],[1,1,1,1,0],[0,1,1,1,1],[0,0,0,0,1]]],this.interesting=[[[0,0,1,1,1,0],[1,1,0,0,0,1],[0,1,0,1,0,1],[0,1,0,1,0,1],[1,1,0,0,0,1],[0,0,1,1,1,0]],[[0,0,0,1],[0,1,1,1],[1,0,0,1],[0,1,1,1],[0,0,0,1]],[[0,0,0,1,1],[0,1,1,0,1],[0,1,0,1,0],[1,0,1,1,0],[1,1,0,0,0]]],this.beelike=[[[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,1,1,0],[1,0,0,1,0,0,0,0,0,1,0,0,1],[0,1,1,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,1,0],[1,1,0,0,1,0,0,0,0,0,1,0,0,1,1],[0,1,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]]]}));function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function l(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,l=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(l)?l:String(l)),a)}var l}function r(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}const o=r((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)}}));function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==c(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===c(n)?n:String(n)),a)}var n}function E(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function h(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakSet,S=new WeakSet,T=new WeakSet;function f(){var e=this;this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.$container.appendChild(this.canvas),h(this,S,v).call(this),window.addEventListener("resize",(function(){h(e,S,v).call(e)})),this.media=window.matchMedia("(prefers-color-scheme: dark)"),h(this,T,_).call(this,this.media),this.media.addEventListener("change",(function(){h(e,T,_).call(e,e.media)}))}function v(){this.canvas.width=0,this.canvas.height=0,this.canvas.width=this.$container.offsetWidth,this.canvas.height=this.canvas.width,this.cell_width=this.canvas.width/this.matrix_width,this.cell_height=this.canvas.height/this.matrix_height,this.draw()}function _(e){e.matches?(this.color_canvas="#055159",this.color_cells="#0DC4D9"):(this.color_canvas="#F5F5F5",this.color_cells="#0DC4D9"),this.draw()}const m=function(){function e(t,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,T),E(this,S),E(this,u),this.$container=t,this.matrix_width=i,this.matrix_height=a,this.matrix=this.generateMatrix(this.matrix_width,this.matrix_height),h(this,u,f).call(this),this.draw()}var t,i;return t=e,(i=[{key:"draw",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=this.color_canvas,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=this.color_cells;for(var e=0;e<this.matrix_width;e++)for(var t=0;t<this.matrix_height;t++)0!==this.matrix[e][t]&&this.context.fillRect(e*this.cell_width,t*this.cell_height,this.cell_width,this.cell_height)}},{key:"generateMatrix",value:function(e,t){for(var i=new Array,a=0;a<e;a++){i[a]=new Array;for(var n=0;n<t;n++)i[a][n]=0}return i}},{key:"copyMatrix",value:function(e,t){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++)e[i][a]=t[i][a];return e}},{key:"reflectX",value:function(e){return e.reverse()}},{key:"reflectY",value:function(e){for(var t=this.generateMatrix(e.length,e[0].length),i=0;i<e.length;i++)t[i]=e[i].reverse();return this.copyMatrix(e,t)}},{key:"rotateLeft",value:function(e){for(var t=this.generateMatrix(e[0].length,e.length),i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var n=i;t[e[i].length-1-a][n]=e[i][a]}return this.copyMatrix(e,t)}},{key:"rotateRight",value:function(e){for(var t=this.generateMatrix(e[0].length,e.length),i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var n=a,l=e.length-1-i;t[n][l]=e[i][a]}return this.copyMatrix(e,t)}}])&&s(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function R(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==O(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===O(n)?n:String(n)),a)}var n}function L(e,t,i){return t&&R(e.prototype,t),i&&R(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function p(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var C=new WeakSet,g=new WeakSet,$=new WeakSet,y=new WeakSet,N=new WeakSet,A=new WeakSet,I=new WeakSet,P=new WeakSet,w=new WeakSet,b=new WeakSet;function M(){this.generation++,p(this,g,x).call(this),p(this,$,U).call(this)}function x(){for(var e=this,t=this.map.generateMatrix(this.map.matrix_width,this.map.matrix_height),i=0,a=function(e,t){return e<0?t-1:e>t-1?0:e},n=function(t,i){var n=0;return n+=1===e.cells[a(t-1,e.map.matrix_width)][a(i-1,e.map.matrix_height)]?1:0,n+=1===e.cells[a(t-1,e.map.matrix_width)][a(i,e.map.matrix_height)]?1:0,n+=1===e.cells[a(t-1,e.map.matrix_width)][a(i+1,e.map.matrix_height)]?1:0,n+=1===e.cells[a(t,e.map.matrix_width)][a(i-1,e.map.matrix_height)]?1:0,n+=1===e.cells[a(t,e.map.matrix_width)][a(i+1,e.map.matrix_height)]?1:0,n+=1===e.cells[a(t+1,e.map.matrix_width)][a(i-1,e.map.matrix_height)]?1:0,(n+=1===e.cells[a(t+1,e.map.matrix_width)][a(i,e.map.matrix_height)]?1:0)+(1===e.cells[a(t+1,e.map.matrix_width)][a(i+1,e.map.matrix_height)]?1:0)},l=0;l<this.map.matrix_width;l++)for(var r=0;r<this.map.matrix_height;r++){var o=n(l,r);o<2||o>3?t[l][r]=0:0!==this.cells[l][r]||3!==o?t[l][r]=this.cells[l][r]:t[l][r]=1}for(var c=0;c<this.map.matrix_width;c++)for(var s=0;s<this.map.matrix_height;s++)this.cells[c][s]=t[c][s],1===t[c][s]&&i++;this.population=i}function U(){this.map.draw(),this.$GENERATION_WRAPPER.innerText="Generation: ".concat(this.generation),this.$POPULATION_WRAPPER.innerText="Population: ".concat(this.population)}function B(e,t,i){for(var a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++)e[a][n]=this.support.getRandomInteger(t,i);return e}function G(){this.interval=0,this.generation=0,this.population=0,this.map.matrix=this.map.generateMatrix(this.map.matrix_width,this.map.matrix_height),this.cells=this.map.matrix}function k(){for(var e=Math.abs(this.allocateCoordinates[1][0]-this.allocateCoordinates[0][0])+1,t=Math.abs(this.allocateCoordinates[1][1]-this.allocateCoordinates[0][1])+1,i=this.map.generateMatrix(e,t),a=0;a<e;a++)for(var n=0;n<t;n++){var l=this.allocateCoordinates[0][0]+a,r=this.allocateCoordinates[0][1]+n;i[a][n]=this.cells[l][r]}console.log("width = ".concat(e,", height = ").concat(t)),console.log(i)}function H(e,t){if(!(e.length<t.length||e[0].length<t[0].length))for(var i=Math.floor(e.length/2)-Math.floor(t.length/2),a=Math.floor(e[0].length/2)-Math.floor(t[0].length/2),n=0;n<t.length;n++)for(var l=0;l<t[n].length;l++)this.cells[i+n][a+l]=t[n][l]}function D(){this.MATRIX_WIDTH=50,this.MATRIX_HEIGHT=50,this.SPEED_RATE=100}function q(){this.$MAP_WRAPPER=document.querySelector("#map"),this.$GENERATION_WRAPPER=document.querySelector(".game-of-life__generation"),this.$POPULATION_WRAPPER=document.querySelector(".game-of-life__population"),this.$START_BUTTON=document.querySelector(".game-of-life__start"),this.$STOP_BUTTON=document.querySelector(".game-of-life__stop"),this.$NEXT_BUTTON=document.querySelector(".game-of-life__next"),this.$CLEAN_BUTTON=document.querySelector(".game-of-life__clean"),this.$RANDOMIZE_BUTTON=document.querySelector(".game-of-life__randomize"),this.$SPEED_SELECTOR=document.querySelector(".game-of-life__speed-menu"),this.$REFLECT_X_BUTTON=document.querySelector(".game-of-life__reflect-x"),this.$REFLECT_Y_BUTTON=document.querySelector(".game-of-life__reflect-y"),this.$ROTATE_LEFT_BUTTON=document.querySelector(".game-of-life__rotate-left"),this.$ROTATE_RIGHT_BUTTON=document.querySelector(".game-of-life__rotate-right"),this.$EXPORT_BUTTON=document.querySelector(".game-of-life__export"),this.$IMPORT_INPUT=document.querySelector(".game-of-life__import-input"),this.$IMPORT_BUTTON=document.querySelector(".game-of-life__import"),this.$STABLE_SELECTOR=document.querySelector(".game-of-life__stables-menu"),this.$SPACESHIPS_SELECTOR=document.querySelector(".game-of-life__spaceships-menu"),this.$OSCILLATORS_SELECTOR=document.querySelector(".game-of-life__oscillators-menu"),this.$GUNS_SELECTOR=document.querySelector(".game-of-life__guns-menu"),this.$PENTOMINO_SELECTOR=document.querySelector(".game-of-life__pentominoes-menu"),this.$MATHUSALEM_SELECTOR=document.querySelector(".game-of-life__mathusalem-menu"),this.$INTERESTING_SELECTOR=document.querySelector(".game-of-life__interesting-menu"),this.$BEE_GARDEN_SELECTOR=document.querySelector(".game-of-life__bee-garden-menu")}function W(){var e=this;this.$MAP_WRAPPER.addEventListener("click",(function(t){var i=Math.floor(t.offsetX/e.map.cell_width),a=Math.floor(t.offsetY/e.map.cell_height);if(!0===t.ctrlKey&&0===e.interval)return!1===e.allocate&&(e.allocate=!0),e.allocateCoordinates.push(new Array(i,a)),void(e.allocateCoordinates.length>=2&&(p(e,A,k).call(e),e.allocateCoordinates=[]));0===e.cells[i][a]?e.cells[i][a]=1:e.cells[i][a]=0,p(e,$,U).call(e)})),this.$MAP_WRAPPER.addEventListener("contextmenu",(function(t){t.preventDefault(),!0===e.allocate&&(e.allocate=!1,e.allocateCoordinates=[]),p(e,$,U).call(e)})),this.$START_BUTTON.addEventListener("click",(function(){clearInterval(e.interval),e.interval=0,e.interval=setInterval(p(e,C,M).bind(e),e.SPEED_RATE)})),this.$STOP_BUTTON.addEventListener("click",(function(){clearInterval(e.interval),e.interval=0})),this.$NEXT_BUTTON.addEventListener("click",(function(){clearInterval(e.interval),e.interval=0,p(e,C,M).call(e)})),this.$CLEAN_BUTTON.addEventListener("click",(function(){clearInterval(e.interval),p(e,N,G).call(e),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1"})),this.$RANDOMIZE_BUTTON.addEventListener("click",(function(){clearInterval(e.interval),p(e,N,G).call(e),e.cells=p(e,y,B).call(e,e.cells,0,2),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1"})),this.$SPEED_SELECTOR.addEventListener("input",(function(){var t=0!==e.interval?1:0;1===t&&(clearInterval(e.interval),e.interval=0),e.SPEED_RATE=e.$SPEED_SELECTOR.value,1===t&&(e.interval=setInterval(p(e,C,M).bind(e),e.SPEED_RATE))})),this.$REFLECT_X_BUTTON.addEventListener("click",(function(){e.cells=e.map.reflectX(e.cells),p(e,$,U).call(e)})),this.$REFLECT_Y_BUTTON.addEventListener("click",(function(){e.cells=e.map.reflectY(e.cells),p(e,$,U).call(e)})),this.$ROTATE_LEFT_BUTTON.addEventListener("click",(function(){e.cells=e.map.rotateRight(e.cells),p(e,$,U).call(e)})),this.$ROTATE_RIGHT_BUTTON.addEventListener("click",(function(){e.cells=e.map.rotateLeft(e.cells),p(e,$,U).call(e)})),this.$EXPORT_BUTTON.addEventListener("click",(function(){var t=new Blob([JSON.stringify(e.map.matrix)],{type:"application/json"}),i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(t)),i.setAttribute("download","save-".concat(Date.now(),".json")),i.click()})),this.$IMPORT_BUTTON.addEventListener("click",(function(){e.$IMPORT_INPUT.click()})),this.$IMPORT_INPUT.addEventListener("input",(function(){if("application/json"===e.$IMPORT_INPUT.files[0].type){var t=e.$IMPORT_INPUT.files[0],i=new FileReader;i.readAsText(t),i.onload=function(){for(var t=JSON.parse(i.result),a=0;a<e.map.matrix_width;a++)for(var n=0;n<e.map.matrix_height;n++)e.cells[a][n]=t[a][n];p(e,$,U).call(e)},i.onerror=function(){console.log(i.error)},e.$IMPORT_INPUT.value=""}})),this.$STABLE_SELECTOR.addEventListener("change",(function(){"-1"!==e.$STABLE_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.stable[e.$STABLE_SELECTOR.value]),p(e,$,U).call(e),e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$SPACESHIPS_SELECTOR.addEventListener("change",(function(){"-1"!==e.$SPACESHIPS_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.spaceships[e.$SPACESHIPS_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$OSCILLATORS_SELECTOR.addEventListener("change",(function(){"-1"!==e.$OSCILLATORS_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.oscillators[e.$OSCILLATORS_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$GUNS_SELECTOR.addEventListener("change",(function(){"-1"!==e.$GUNS_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.guns[e.$GUNS_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$PENTOMINO_SELECTOR.addEventListener("change",(function(){"-1"!==e.$PENTOMINO_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.pentominoes[e.$PENTOMINO_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$.MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$MATHUSALEM_SELECTOR.addEventListener("change",(function(){"-1"!==e.$MATHUSALEM_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.mathusalem[e.$MATHUSALEM_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$INTERESTING_SELECTOR.addEventListener("change",(function(){"-1"!==e.$INTERESTING_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.interesting[e.$INTERESTING_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$BEE_GARDEN_SELECTOR.value="-1")})),this.$BEE_GARDEN_SELECTOR.addEventListener("change",(function(){"-1"!==e.$BEE_GARDEN_SELECTOR.value&&(clearInterval(e.interval),p(e,N,G).call(e),p(e,I,H).call(e,e.cells,e.figures.beelike[e.$BEE_GARDEN_SELECTOR.value]),p(e,$,U).call(e),e.$STABLE_SELECTOR.value="-1",e.$OSCILLATORS_SELECTOR.value="-1",e.$SPACESHIPS_SELECTOR.value="-1",e.$GUNS_SELECTOR.value="-1",e.$PENTOMINO_SELECTOR.value="-1",e.$MATHUSALEM_SELECTOR.value="-1",e.$INTERESTING_SELECTOR.value="-1")}))}new(L((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,b),d(this,w),d(this,P),d(this,I),d(this,A),d(this,N),d(this,y),d(this,$),d(this,g),d(this,C),p(this,P,D).call(this),p(this,w,q).call(this),p(this,b,W).call(this),this.support=new o,this.figures=new a,this.map=new m(this.$MAP_WRAPPER,this.MATRIX_WIDTH,this.MATRIX_HEIGHT),this.interval=0,this.generation=0,this.population=0,this.cells=this.map.matrix,this.allocate=!1,this.allocateCoordinates=[],p(this,$,U).call(this)})))})();